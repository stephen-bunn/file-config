dist: trusty
sudo: false
cache:
  directories:
    - $HOME/.cache/pip

language: python

env:
  - CODACY_PROJECT_TOKEN=3f78646c95f7420786ff1007fc59d3fd

matrix:
  include:
    - python: "3.6"
      env: TOXENV=py36

    - python: "3.6"
      env: TOXENV=flake8

install:
  - pip install tox
  - pip install pipenv
  - pipenv install --dev --system --skip-lock

script:
  - tox

after_success:
  - coverage xml -o coverage.xml
  - python-codacy-coverage -r coverage.xml

notifications:
  email: false
